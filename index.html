<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interactive Flowchart with Connection Points, Modals, and Settings</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <!-- Vertical Menu on the Left -->
  <div id="menu">
    <h2>Flowchart Menu</h2>
    <button id="settings-btn">Settings</button>
  </div>

  <!-- SVG Container -->
  <div id="svg-container">
    <svg id="flowchart">
      <!-- Initial Connectors -->
      <!-- Connector from A to B (solid) -->
      <path class="connector-solid" id="connector-A-B"></path>

      <!-- Connector from B to C (dashed) -->
      <path class="connector-dashed" id="connector-B-C"></path>

      <!-- Initial Nodes -->
      <!-- Node A -->
      <g class="draggable-group" data-node-id="A">
        <rect class="node" x="150" y="100" width="100" height="50"></rect>
        <text class="node-text" x="200" y="130" text-anchor="middle" alignment-baseline="middle">Node A</text>
        <!-- Connection Points -->
        <circle class="connection-point input" cx="150" cy="125" r="5"></circle>
        <circle class="connection-point output" cx="250" cy="125" r="5"></circle>
        <!-- Connector Type Labels -->
        <text class="type-label" x="150" y="120" text-anchor="middle">String</text>
        <text class="type-label" x="250" y="120" text-anchor="middle">Int</text>
      </g>

      <!-- Node B -->
      <g class="draggable-group" data-node-id="B">
        <rect class="node" x="350" y="200" width="100" height="50"></rect>
        <text class="node-text" x="400" y="230" text-anchor="middle" alignment-baseline="middle">Node B</text>
        <!-- Connection Points -->
        <circle class="connection-point input" cx="350" cy="225" r="5"></circle>
        <circle class="connection-point output" cx="450" cy="225" r="5"></circle>
        <!-- Connector Type Labels -->
        <text class="type-label" x="350" y="220" text-anchor="middle">Int</text>
        <text class="type-label" x="450" y="220" text-anchor="middle">Float</text>
      </g>

      <!-- Node C -->
      <g class="draggable-group" data-node-id="C">
        <rect class="node" x="550" y="100" width="100" height="50"></rect>
        <text class="node-text" x="600" y="130" text-anchor="middle" alignment-baseline="middle">Node C</text>
        <!-- Connection Points -->
        <circle class="connection-point input" cx="550" cy="125" r="5"></circle>
        <circle class="connection-point output" cx="650" cy="125" r="5"></circle>
        <!-- Connector Type Labels -->
        <text class="type-label" x="550" y="120" text-anchor="middle">Float</text>
        <text class="type-label" x="650" y="120" text-anchor="middle">String</text>
      </g>
    </svg>
  </div>

  <!-- Add Node Modal -->
  <div id="add-node-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="add-node-close">&times;</span>
      <h3>Add New Node</h3>
      <form id="add-node-form">
        <label for="node-label">Node Label:</label>
        <input type="text" id="node-label" name="nodeLabel" required placeholder="Enter node label">

        <label for="input-type">Input Type:</label>
        <select id="input-type" name="inputType">
          <option value="none">None</option>
          <option value="string">String</option>
          <option value="int">Int</option>
          <option value="float">Float</option>
        </select>

        <label for="output-type">Output Type:</label>
        <select id="output-type" name="outputType">
          <option value="none">None</option>
          <option value="string">String</option>
          <option value="int">Int</option>
          <option value="float">Float</option>
        </select>

        <label for="connector-type">Connector Type:</label>
        <select id="connector-type" name="connectorType">
          <option value="solid">Solid</option>
          <option value="dashed">Dashed</option>
        </select>

        <button type="submit">Add Node</button>
        <button type="button" class="cancel-btn" id="add-node-cancel">Cancel</button>
      </form>
    </div>
  </div>

  <!-- Remove Node Modal -->
  <div id="remove-node-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="remove-node-close">&times;</span>
      <h3>Remove Node</h3>
      <p>Are you sure you want to remove the selected node?</p>
      <button id="confirm-remove-btn">Yes, Remove</button>
      <button type="button" class="cancel-btn" id="remove-node-cancel">Cancel</button>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settings-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="settings-close">&times;</span>
      <h3>Settings</h3>
      <form id="settings-form">
        <label for="connector-shape">Connector Shape:</label>
        <select id="connector-shape" name="connectorShape">
          <option value="straight">Straight</option>
          <option value="elbow">Elbow</option>
          <option value="curved">Curved</option>
        </select>

        <button type="submit">Save Settings</button>
        <button type="button" class="cancel-btn" id="settings-cancel">Cancel</button>
      </form>
    </div>
  </div>

  <!-- Context Menu -->
  <ul id="context-menu">
    <li id="context-add-node">Add Node</li>
    <li id="context-remove-node">Remove Node</li>
  </ul>

  <script type="module" src="js/flowchart.js"></script>
</body>
</html>
